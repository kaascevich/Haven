<script is:inline data-astro-rerun>
  function createProgressBar() {
    // create the main container div
    const progressContainer = document.createElement("div");
    progressContainer.className = "fixed bottom-0 z-10 h-1 w-full bg-skin-fill";

    // create the progress bar div
    const progressBar = document.createElement("div");
    progressBar.className = "h-1 w-0 bg-skin-accent";
    progressBar.id = "progress-bar";

    progressContainer.appendChild(progressBar);
    document.body.appendChild(progressContainer);
  }
  createProgressBar();

  function updateScrollProgress() {
    document.addEventListener("scroll", () => {
      const rootNode = document.documentElement;
      const winScroll = rootNode.scrollTop;
      const height = rootNode.scrollHeight - rootNode.clientHeight;
      const scrolled = (winScroll / height) * 100;

      const progressBar = document?.getElementById("progress-bar");
      if (progressBar) {
        progressBar.style.width = scrolled + "%";
      }
    });
  }
  updateScrollProgress();
</script>
