<script is:inline data-astro-rerun>
  function addHeadingLinks() {
    const headings = Array.from(
      document.querySelectorAll("h2, h3, h4, h5, h6")
    );
    for (const heading of headings) {
      heading.classList.add("group");
      const link = document.createElement("a");
      link.className = "heading-link ml-2 opacity-0 group-hover:opacity-100 focus:opacity-100 not-italic";
      link.href = "#" + heading.id;

      const span = document.createElement("span");
      span.ariaHidden = "true";
      span.innerText = "#";

      // hide it in reader view
      span.hidden = true;
      span.style.display = "inline";
      
      link.appendChild(span);
      heading.appendChild(link);
    }
  }
  addHeadingLinks();
</script>
